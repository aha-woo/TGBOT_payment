# å›ºå®šé”®ç›˜æŒ‰é’®åŠŸèƒ½è¯´æ˜

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

åœ¨èŠå¤©æ¡†åº•éƒ¨æ·»åŠ **å›ºå®šæŒ‰é’®**ï¼Œç”¨æˆ·éšæ—¶å¯ä»¥ç‚¹å‡»ï¼Œä¸ä¼šè¢«æ¶ˆæ¯è¦†ç›–ã€‚

---

## ğŸ“± ç”¨æˆ·ç•Œé¢

### åº•éƒ¨å›ºå®šæŒ‰é’®å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚    èŠå¤©æ¶ˆæ¯åŒºåŸŸ              â”‚
â”‚                             â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   [ğŸ  ä¸»é¡µ]  [ğŸ“‹ æˆ‘çš„è®¢å•]    â”‚  â† å›ºå®šæŒ‰é’®ï¼ˆæ°¸è¿œå¯è§ï¼‰
â”‚   [ğŸ‘¤ ä¼šå‘˜çŠ¶æ€]  [â“ å¸®åŠ©]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¾“å…¥æ¶ˆæ¯...            [ğŸ“]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”˜ æŒ‰é’®åŠŸèƒ½

| æŒ‰é’® | åŠŸèƒ½ | è¯´æ˜ |
|-----|------|------|
| **ğŸ  ä¸»é¡µ** | è¿”å›ä¸»é¡µ | æ˜¾ç¤ºæ¬¢è¿é¡µé¢å’Œæ‰€æœ‰æ“ä½œæŒ‰é’® |
| **ğŸ“‹ æˆ‘çš„è®¢å•** | æŸ¥çœ‹è®¢å• | æ˜¾ç¤ºç”¨æˆ·çš„æ‰€æœ‰è®¢å•åˆ—è¡¨ |
| **ğŸ‘¤ ä¼šå‘˜çŠ¶æ€** | ä¼šå‘˜ä¿¡æ¯ | æŸ¥çœ‹ä¼šå‘˜åˆ°æœŸæ—¶é—´å’Œæ¶ˆè´¹è®°å½• |
| **â“ å¸®åŠ©** | å¸®åŠ©ä¿¡æ¯ | æ˜¾ç¤ºä½¿ç”¨è¯´æ˜å’Œå¸¸è§é—®é¢˜ |

---

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

### 1. æ°¸è¿œå¯è§
- âœ… ä¸ä¼šè¢«æ¶ˆæ¯è¦†ç›–
- âœ… æ— è®ºèŠå¤©å¤šä¹…ï¼ŒæŒ‰é’®å§‹ç»ˆåœ¨åº•éƒ¨
- âœ… ç”¨æˆ·éšæ—¶å¯ä»¥è¿”å›ä¸»é¡µ

### 2. ä¸€é”®æ“ä½œ
- âœ… æ— éœ€è¾“å…¥å‘½ä»¤
- âœ… ç‚¹å‡»æŒ‰é’®å³å¯æ“ä½œ
- âœ… é€‚åˆæ‰€æœ‰ç”¨æˆ·ï¼ˆåŒ…æ‹¬ä¸ç†Ÿæ‚‰å‘½ä»¤çš„ç”¨æˆ·ï¼‰

### 3. æŒä¹…æ˜¾ç¤º
- âœ… Bot é‡å¯åä»ç„¶ä¿ç•™
- âœ… åˆ‡æ¢åˆ°å…¶ä»–èŠå¤©å†å›æ¥ï¼ŒæŒ‰é’®è¿˜åœ¨
- âœ… æ— éœ€é‡æ–°è®¾ç½®

---

## ğŸ¨ è®¾è®¡ç†å¿µ

### ç±»ä¼¼å¾®ä¿¡å…¬ä¼—å·èœå•

ç†Ÿæ‚‰çš„äº¤äº’æ–¹å¼ï¼š
```
å¾®ä¿¡å…¬ä¼—å·        â†’  Telegram Bot
â””â”€ åº•éƒ¨èœå•æŒ‰é’®     â””â”€ å›ºå®šé”®ç›˜æŒ‰é’®
```

### ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**é—®é¢˜**ï¼šèŠå¤©æ¶ˆæ¯å¤ªå¤šï¼Œæ‰¾ä¸åˆ°ä¸»é¡µ
**è§£å†³**ï¼šåº•éƒ¨å›ºå®šæŒ‰é’®ï¼Œéšæ—¶å¯è§

---

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. ReplyKeyboardMarkup

ä½¿ç”¨ Telegram çš„ `ReplyKeyboardMarkup` åŠŸèƒ½ï¼š

```python
from telegram import ReplyKeyboardMarkup, KeyboardButton

def get_main_keyboard() -> ReplyKeyboardMarkup:
    """è·å–ä¸»é”®ç›˜ï¼ˆå›ºå®šæ˜¾ç¤ºåœ¨èŠå¤©æ¡†åº•éƒ¨ï¼‰"""
    keyboard = [
        ["ğŸ  ä¸»é¡µ", "ğŸ“‹ æˆ‘çš„è®¢å•"],
        ["ğŸ‘¤ ä¼šå‘˜çŠ¶æ€", "â“ å¸®åŠ©"]
    ]
    return ReplyKeyboardMarkup(
        keyboard,
        resize_keyboard=True,  # æŒ‰é’®å¤§å°è‡ªé€‚åº”
        persistent=True  # æŒä¹…æ˜¾ç¤º
    )
```

### 2. æŒ‰é’®ç‚¹å‡»å¤„ç†

åœ¨ `handle_message` å‡½æ•°ä¸­å¤„ç†æŒ‰é’®æ–‡å­—ï¼š

```python
async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text
    
    # å¤„ç†å›ºå®šé”®ç›˜æŒ‰é’®ç‚¹å‡»
    if text == "ğŸ  ä¸»é¡µ":
        await start_command(update, context)
        return
    elif text == "ğŸ“‹ æˆ‘çš„è®¢å•":
        await orders_command(update, context)
        return
    # ... å…¶ä»–æŒ‰é’®
```

### 3. æ¶ˆæ¯å‘é€æ—¶é™„å¸¦é”®ç›˜

æ‰€æœ‰å›å¤æ¶ˆæ¯éƒ½é™„å¸¦å›ºå®šé”®ç›˜ï¼š

```python
main_keyboard = get_main_keyboard()
await update.message.reply_text(
    "æ¶ˆæ¯å†…å®¹",
    reply_markup=main_keyboard  # é™„å¸¦å›ºå®šé”®ç›˜
)
```

---

## ğŸ“Š ä¸å…¶ä»–æ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§ | å‘½ä»¤èœå•(`/`) | å›ºå®šé”®ç›˜æŒ‰é’® | InlineæŒ‰é’® |
|-----|-------------|------------|-----------|
| **æ˜“å‘ç°** | â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |
| **ä¸å ç©ºé—´** | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **æŒä¹…æ˜¾ç¤º** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­ |
| **æ˜“æ“ä½œ** | â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |
| **é€‚åˆæ–°æ‰‹** | â­â­ | â­â­â­â­â­ | â­â­â­â­ |

**ç»“è®º**ï¼šå›ºå®šé”®ç›˜æŒ‰é’®æœ€é€‚åˆä¸ç†Ÿæ‚‰ Telegram çš„ç”¨æˆ·ã€‚

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### é€‚åˆçš„åœºæ™¯

âœ… éœ€è¦é¢‘ç¹è¿”å›ä¸»é¡µ
âœ… ç”¨æˆ·ä¸ç†Ÿæ‚‰ Telegram å‘½ä»¤
âœ… èŠå¤©æ¶ˆæ¯è¾ƒå¤š
âœ… éœ€è¦å¸¸ç”¨åŠŸèƒ½å¿«æ·å…¥å£

### ä¸é€‚åˆçš„åœºæ™¯

âŒ ä¸“ä¸šæŠ€æœ¯ç”¨æˆ·ï¼ˆä»–ä»¬æ›´ä¹ æƒ¯å‘½ä»¤ï¼‰
âŒ éœ€è¦å¤§é‡è¾“å…¥çš„åœºæ™¯ï¼ˆé”®ç›˜ä¼šå ç©ºé—´ï¼‰
âŒ ä¸´æ—¶æ“ä½œï¼ˆä¸€æ¬¡æ€§ä½¿ç”¨ï¼‰

---

## ğŸš€ éƒ¨ç½²å’Œæµ‹è¯•

### 1. é‡å¯ Bot

```bash
pm2 restart payment-bot
```

### 2. æµ‹è¯•æ­¥éª¤

1. **å‘é€ `/start` ç»™ Bot**
   - åº”è¯¥çœ‹åˆ°åº•éƒ¨å‡ºç° 4 ä¸ªå›ºå®šæŒ‰é’®

2. **ç‚¹å‡»"ğŸ“‹ æˆ‘çš„è®¢å•"**
   - æ˜¾ç¤ºè®¢å•åˆ—è¡¨
   - åº•éƒ¨æŒ‰é’®ä»ç„¶å­˜åœ¨

3. **ç‚¹å‡»"ğŸ  ä¸»é¡µ"**
   - è¿”å›æ¬¢è¿é¡µé¢
   - æ˜¾ç¤ºæ‰€æœ‰æ“ä½œæŒ‰é’®

4. **å‘é€ä¸€äº›æ¶ˆæ¯ï¼Œè®©èŠå¤©æ¡†æ»šåŠ¨**
   - åº•éƒ¨æŒ‰é’®å§‹ç»ˆå¯è§

5. **å…³é—­ Botï¼Œé‡æ–°æ‰“å¼€**
   - åº•éƒ¨æŒ‰é’®ä»ç„¶åœ¨

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### å¯¹äºç”¨æˆ·

**æ‰¾ä¸åˆ°æŒ‰é’®äº†ï¼Ÿ**
- å‘ä¸‹æ»šåŠ¨åˆ°åº•éƒ¨
- æŒ‰é’®åœ¨è¾“å…¥æ¡†ä¸Šæ–¹

**æƒ³æ‰“å­—ä¸æ–¹ä¾¿ï¼Ÿ**
- ç‚¹å‡»è¾“å…¥æ¡†
- é”®ç›˜ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ™®é€šè¾“å…¥çŠ¶æ€
- æ‰“å®Œå­—åæŒ‰é’®ä¼šè‡ªåŠ¨æ¢å¤

**æŒ‰é’®ä¸è§äº†ï¼Ÿ**
- å‘é€ `/start`
- Bot ä¼šé‡æ–°æ˜¾ç¤ºå›ºå®šæŒ‰é’®

---

## ğŸ¨ è‡ªå®šä¹‰æŒ‰é’®

### ä¿®æ”¹æŒ‰é’®æ–‡å­—

ç¼–è¾‘ `bot.py` ä¸­çš„ `get_main_keyboard()` å‡½æ•°ï¼š

```python
def get_main_keyboard() -> ReplyKeyboardMarkup:
    keyboard = [
        ["ğŸ  é¦–é¡µ", "ğŸ“‹ è®¢å•"],  # ä¿®æ”¹æ–‡å­—
        ["ğŸ‘¤ çŠ¶æ€", "ğŸ’¬ å®¢æœ"]   # ä¿®æ”¹åŠŸèƒ½
    ]
    return ReplyKeyboardMarkup(keyboard, resize_keyboard=True, persistent=True)
```

### ä¿®æ”¹æŒ‰é’®åŠŸèƒ½

ç¼–è¾‘ `handle_message()` å‡½æ•°ä¸­çš„æŒ‰é’®å¤„ç†é€»è¾‘ï¼š

```python
if text == "ğŸ  é¦–é¡µ":  # åŒ¹é…ä¿®æ”¹åçš„æ–‡å­—
    await start_command(update, context)
    return
```

### ä¿®æ”¹æŒ‰é’®å¸ƒå±€

```python
# å•è¡Œ 4 ä¸ªæŒ‰é’®
keyboard = [
    ["ğŸ ", "ğŸ“‹", "ğŸ‘¤", "â“"]
]

# 3 è¡Œå¸ƒå±€
keyboard = [
    ["ğŸ  ä¸»é¡µ"],
    ["ğŸ“‹ æˆ‘çš„è®¢å•", "ğŸ‘¤ ä¼šå‘˜çŠ¶æ€"],
    ["â“ å¸®åŠ©", "ğŸ‘¨â€ğŸ’¼ å®¢æœ"]
]
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: æŒ‰é’®ä¸æ˜¾ç¤ºï¼Ÿ
**A**: æ£€æŸ¥æ˜¯å¦å‘é€äº† `/start`ï¼Œæˆ–é‡å¯ Bot åé‡æ–°æ‰“å¼€èŠå¤©ã€‚

### Q2: ç‚¹å‡»æŒ‰é’®æ²¡ååº”ï¼Ÿ
**A**: æ£€æŸ¥ Bot æ—¥å¿—ï¼Œç¡®è®¤ `handle_message` å‡½æ•°æ”¶åˆ°äº†æ¶ˆæ¯ã€‚

### Q3: æŒ‰é’®æ–‡å­—å’ŒåŠŸèƒ½å¯¹ä¸ä¸Šï¼Ÿ
**A**: ç¡®è®¤ `get_main_keyboard()` ä¸­çš„æŒ‰é’®æ–‡å­—å’Œ `handle_message()` ä¸­çš„åˆ¤æ–­ä¸€è‡´ã€‚

### Q4: æƒ³éšè—æŒ‰é’®ï¼Ÿ
**A**: å‘é€ `ReplyKeyboardRemove()` å¯ä»¥éšè—æŒ‰é’®ï¼š
```python
from telegram import ReplyKeyboardRemove

await update.message.reply_text(
    "æŒ‰é’®å·²éšè—",
    reply_markup=ReplyKeyboardRemove()
)
```

### Q5: æŒ‰é’®å ç©ºé—´ï¼Œå½±å“è¾“å…¥ï¼Ÿ
**A**: è¿™æ˜¯å›ºå®šé”®ç›˜çš„ç‰¹æ€§ã€‚å¦‚æœç¡®å®å½±å“ä½¿ç”¨ï¼Œå¯ä»¥è€ƒè™‘åªåœ¨å…³é”®ä½ç½®æ˜¾ç¤ºï¼Œæˆ–ä½¿ç”¨å‘½ä»¤èœå•æ–¹æ¡ˆã€‚

---

## âœ… æ€»ç»“

**ä¼˜ç‚¹**ï¼š
- âœ… æ°¸è¿œå¯è§ï¼Œä¸ä¼šä¸¢å¤±
- âœ… æ“ä½œç®€å•ï¼Œé€‚åˆæ–°æ‰‹
- âœ… ç±»ä¼¼å¾®ä¿¡å…¬ä¼—å·ï¼Œç”¨æˆ·ç†Ÿæ‚‰

**ç¼ºç‚¹**ï¼š
- âš ï¸ å ç”¨ç©ºé—´ï¼ˆçº¦ 100-150 åƒç´ ï¼‰
- âš ï¸ ä¸å¤Ÿä¸“ä¸šï¼ˆæŠ€æœ¯ç”¨æˆ·æ›´å–œæ¬¢å‘½ä»¤ï¼‰

**æ¨èä½¿ç”¨åœºæ™¯**ï¼š
- é¢å‘æ™®é€šç”¨æˆ·çš„æœåŠ¡ Bot
- éœ€è¦é¢‘ç¹è¿”å›ä¸»é¡µ
- ç”¨æˆ·å¯èƒ½ä¸ç†Ÿæ‚‰ Telegram å‘½ä»¤

---

ğŸ’¡ **ç°åœ¨å°±è¯•è¯•å§ï¼å‘é€ `/start` ç»™ Botï¼Œçœ‹çœ‹åº•éƒ¨çš„å›ºå®šæŒ‰é’®ï¼** ğŸ‰

